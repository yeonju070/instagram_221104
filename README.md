# instagram
나만의 인스타그램을 만들어보세요!<br>
사진을 올려 서로의 근황을 확인하고 팔로우를 통해 서로 가까워지고 소통할 수 있는 나만의 sns입니다.


## 프로젝트 주제 선정 이유
개인프로젝트가 시작되고 제가 할 수 있는 걸 최대한 이용해보기로 생각했습니다. 내가 어떤 것을 할 수 있는지 고민하며 어려운 기술들을 넣어 완성되지 못한 어설픈 결과물을 만드느니 완성도에 집중하려고 했고 일전에 sns를 조금 해본 경험을 토대로 표면적인 것들만 만들었던 sns에서 아쉬웠던 부분들을 조금더 세세히 보안하여 완성된 sns를 만들고 싶어서 이 프로젝트를 시작하게 되었습니다.


## 개요
### 프로젝트 일정
[개인프로젝트 기획서](https://ovenapp.io/view/a518sWUffUJ0LFCA5UFwKcKceCKJarWT#TUUFX) 작성 및 [일정표(wds)](https://docs.google.com/spreadsheets/d/1nWCcQ2uxeilCxMUCkrlJpY8r_5RhIo2I9wTOAgLvmPc/edit#gid=0)-> [DB설계](https://docs.google.com/spreadsheets/d/1TFikyslZJnriAMZxrpbF8gzqchIujMSILeB3M4-SN40/edit#gid=0) -> [API 및 URL 설계](https://docs.google.com/spreadsheets/d/1LaX4n7nSAR0B9mIBwdZJ_XEVHodPvFcjNHNYxWxjDJU/edit#gid=0) -> 마크업 및 기능 구현 -> 테스트 -> 완료

**개발 기간**<br>
2022-11-03 ~ 2022-12-14

## 개발 내용
### 기능
- 게시글 등록 및 삭제
- 좋아요 추가 및 제거(개수 출력)
- 댓글 등록 및 삭제(개수 출력)
- 프로필 이미지 등록 및 삭제
- 프로필 정보(내 정보) 업데이트 구현
- 팔로워 및 팔로우 수 출력

### 향후 추가될 기능 및 예정
- 메시지 구현
- 팔로워 및 팔로우 정보 출력

## 트러블 슈팅
### 첫번째 오류
게시글 등록시 DB에 이미지가 저장된 것이 확인되나 화면에는 출력되지 않는다.<br>

**해결**<br>
img 파일에 이미지가 들어가 있는지 확인해 보았는데 이미지는 파일에 잘 저장되어있었다. controller에 디버그를 걸어서 확인해봤을 때 이미지는 잘 넘어와졌고 화면으로 뿌리는 과정에서 문제가 있다는 판단을 했다. 일단 DB에 담긴 이미지를 크롬에 검색해봤을때 이미지가 출력이 되지 않았고 WebmvcConfigurer에 어노테이션 @Configuration이 빠져있는 것을 발견하였다.<br>
하지만 어노테이션을 붙였는데도 화면에 뿌려지지 않는건 마찬가지였고 이미지를 크롬에 검색하였을때 이미지는 정상적으로 출력되는 것이 확인되었다. 이를 통해 DB오류가 아닌 jsp 오류라고 판단하였고 jsp확인 결과 게시글의 정보(list)가 담겨있는 cardView가 뿌려지고 있지 않다는 것을 발견하였고 cardview를 입력하고 나니 view가 정상 작동하였다.

### 두번째 오류
수정할 게시글의 더보기 modal에 있는 수정을 클릭하였을때 수정 페이지로 이동 불가 및 수정한 게시글만 가져오기 오류<br>

**해결**<br>
수정을 클릭하였는데 수정할 페이지로 이동이 되지 않아 앵커 태그에서 바로 보내는 것이 아닌 modal의 수정을 클릭하였을때 동작하도록 script를 열어 구성하였다.<br>
일단 더보기를 클릭하였을 때 동작하도록 하였고 누른 게시글을 data modal에 담았다. 그 후 modal의 수정을 클릭하였을 때 더보기에 담긴 data를 가져와 바로 get 방식으로 postId(게시글 번호)를 location.href로 바로 화면으로 뿌려주는 작업을 하였다.<br>
내가 원하는 게시글만 따로 get방식으로 가져오는 것은 완료 하였으나 내가 수정할 게시글만 가져오고 싶은데 게시글 전체가 화면에 뿌려지고 있었다. 확인하여 보니 게시글 전체가 담긴 cardView가 화면에 뿌려지고 있어서 전체가 출력되고 있다고 판단 하였고 게시글 하나만 출력 될 수 있도록 수정 view에 뿌릴 새로운 메소드를 만들었다. postId와 userId(누가 썼는지 확인 해야하기 때문)을 받아와 DB에서 정보들을 가져왔고 그것을 postList에 담아 화면에 출력하였더니 정상적으로 내가 수정할 게시글만 화면에 출력되는 것이 확인 되었다.

### 세번째 오류
유저 랜덤 추천 후 화면에 뿌리기(팔로우 관련)<br>

**해결**<br>
유저를 랜덤으로 추천할 리스트를 DB에서 가져와서 랜덤으로 추천할 메소드를 만든 후 DB에서 가져온 유저 정보들을 userList에 담아 주었다. 일단 첫번째로 해야 하는 것은 예외처리라고 생각하였다. 유저 리스트가 비어있을 때(가입한 회원이 없을 경우) 그냥 리턴을 시켜주는 예외 처리를 먼저 해주었다. 그 후 유저 추천 리스트에 내 정보가 추천 리스트에 뜨면 안되므로 반복문을 돌려야 겠다고 생각했다. userList(유저 정보가 담긴 객체)의 사이즈 만큼 반복문이 돌도록 하였고 userList의 i번째 index의 id(userList.get(i).getId())가 userId(Controller에서 가져온 userId == 나의 아이디)와 일치하면 나의 아이디가 되므로 remove를 해서 지워주는 작업을 하였다.<br>
이제 예외처리를 다 끝났으므로 본격적으로 유저 랜덤 추천을 시작하였다. random을 생성해서 랜덤으로 뿌릴 준비를 하고 반복문으로 돌려서 random
